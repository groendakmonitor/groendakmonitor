{"version":3,"sources":["store/water.ts","store/customer.ts","components/dashboard/WaterChart/LineChart.tsx","components/dashboard/Widget/styles/images/loading.svg","components/dashboard/Widget/Widget.tsx","components/dashboard/Widget/WidgetHeader.tsx","components/dashboard/Widget/WidgetBody.tsx","components/dashboard/WaterChart/WaterChart.tsx","store/weather.ts","components/dashboard/Weather/Updates.tsx","components/dashboard/Weather/utils.ts","components/dashboard/Weather/Today.tsx","components/dashboard/Weather/Day.tsx","components/dashboard/Weather/Weather.tsx","assets/images/bath2.svg","components/dashboard/WaterSaved/Bath.tsx","components/dashboard/WaterSaved/BathMeter.tsx","components/dashboard/WaterSaved/Odometer/Digit.tsx","components/dashboard/WaterSaved/Odometer/Odometer.tsx","components/dashboard/WaterSaved/WaterSaved.tsx","components/dashboard/Saturation/Saturation.tsx","misc/authentication.ts","components/admin/CustomerList/CustomerRow.tsx","components/admin/CustomerList/CustomerList.tsx","components/admin/Login/styles/groendak.jpg","components/admin/Login/Login.tsx","components/admin/Admin/Admin.tsx","components/dashboard/RoofTemperature/styles/images/roof-normal.svg","components/dashboard/RoofTemperature/styles/images/roof-green.svg","components/dashboard/RoofTemperature/RoofTemperature.tsx","assets/images/bee.svg","components/dashboard/Biodiversity/ProgressBar.tsx","components/dashboard/Biodiversity/Season.tsx","components/dashboard/Biodiversity/Biodiversity.tsx","components/login/Login/styles/groendak.jpg","components/login/Login/LoginModal.tsx","components/login/Login/LogoutButton.tsx","components/App/App.tsx","reportWebVitals.ts","index.tsx"],"names":["useWaterStore","create","set","get","waterData","fetchWaterData","customerId","undefined","fetch","process","then","res","json","data","getTotalIncoming","reduce","acc","value","incoming","getTotalOutgoing","outgoing","determineInitialCustomerId","fromStorage","localStorage","getItem","parseInt","useCustomerStore","customerData","fetchCustomerData","setItem","toString","clear","removeItem","options","scales","yAxes","ticks","beginAtZero","xAxes","callback","index","values","Date","toLocaleTimeString","tooltips","callbacks","title","tooltip","label","toLocaleString","legend","getColor","inOrOut","theme","LineChart","useEffect","timeout","setInterval","clearInterval","useMemo","incomingData","outgoingData","labels","push","date","datasets","backgroundColor","fill","type","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","strokeWidth","strokeLinecap","cx","cy","r","className","SvgLoading","_ref","svgRef","titleId","props","width","height","viewBox","xmlnsname","ref","id","ForwardRef","Widget","children","loading","WidgetHeader","WidgetBody","WaterChart","useState","setLoading","setTimeout","clearTimeout","useWeatherStore","weatherData","fetchWeatherData","lat","lon","Updates","setData","currentItem","setCurrentItem","method","headers","response","filter","enabled","interval","map","update","style","marginTop","text","iconToClassName","icon","Today","weather","main","temp","toFixed","pop","wind","speed","temp_min","temp_max","DAY_NAMES","Day","dayName","dt","getDay","Weather","location","split","fetchWeather","parseFloat","days","result","today","toISOString","substring","list","every","forecast","dt_txt","endsWith","formattedDate","toLocaleDateString","city","name","d","SvgBath2","xmlns","xmlnsXlink","x","y","enableBackground","xmlSpace","Bath","fraction","clipPath","BathMeter","diff","bathtubs","fractionalBathtub","Math","floor","Array","min","MAX_TUBS","_","Digit","digit","animate","transform","animationName","animationTimingFunction","animationIterationCount","animationDuration","Odometer","number","digitsBeforeDecimal","digitsAfterDecimal","size","decimalChar","intermediateLastFractalDigit","integerPartNumber","fractionalPartNumber","integerPartChars","calculateChars","fractionalPartChars","odometerStyle","fontSize","lineHeight","place","pow","lastDigit","slice","digits","chars","unshift","WaterSaved","totalIncoming","store","totalOutgoing","max","Saturation","saturation","isNaN","getAuthToken","setAuthToken","token","clearAuthToken","getAuthHeader","CustomerRow","selected","onClick","last_water","CustomerList","onLogout","scope","c","Login","onLogin","password","setPassword","onChange","e","currentTarget","body","JSON","stringify","status","console","warn","src","img","alt","Admin","onClose","authenticated","setAuthenticated","role","aria-hidden","data-dismiss","aria-label","_ref3","SvgRoofNormal","SvgRoofGreen","display","stroke","strokeLinejoin","strokeMiterlimit","RoofTemperature","temps","normal","green","SvgBee","ProgressBar","mapping","spring","summer","autumn","winter","Season","Biodiversity","setToday","sort","a","b","date_month","biodiversityData","datePoints","getFullYear","date_day","distance","getTime","sorted","last","find","dp","next","distanceBetweenLastAndNext","biodiversity","lerp","season","abs","start","end","amt","setName","error","setError","success","message","LogoutButton","handleLogout","App","admin","setAdmin","useKey","document","setAttribute","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.b39281e1.chunk.js","sourcesContent":["import create from \"zustand\";\nimport { WaterResponse } from \"../models/water\";\n\ntype WaterStore = {\n  waterData: WaterResponse[],\n  fetchWaterData(customerId: number): void,\n  getTotalIncoming(): number,\n  getTotalOutgoing(): number,\n}\n\nexport const useWaterStore = create<WaterStore>(\n  (set, get): WaterStore => ({\n    waterData: [],\n\n    fetchWaterData(customerId: number): void {\n      if (customerId !== undefined) {\n        fetch(`${process.env.REACT_APP__API_URL}/water/${customerId}`)\n        .then<WaterResponse[]>(res => res.json())\n        .then((data) => {\n            set({\n              waterData: data\n            })\n          })\n      }\n    },\n\n    getTotalIncoming: () => {\n      return get().waterData.reduce((acc, value) => {\n        acc += value.incoming;\n        return acc;\n      }, 0)\n    },\n\n    getTotalOutgoing: () => {\n      return get().waterData.reduce((acc, value) => {\n        acc += value.outgoing;\n        return acc;\n      }, 0)\n    }\n  })\n)\n","import { CustomerData } from \"models/customer\";\nimport create from \"zustand\";\n\nconst determineInitialCustomerId = () => {\n  const fromStorage = localStorage.getItem(\"customerId\");\n  if (!fromStorage) return undefined;\n  return parseInt(fromStorage)\n}\n\ntype CustomerStore = {\n  customerId?: number;\n  customerData?: CustomerData,\n  fetchCustomerData: (customerId: number) => void;\n  clear: () => void;\n}\n\n\nexport const useCustomerStore = create<CustomerStore>(\n  (set, get): CustomerStore => ({\n    customerId: determineInitialCustomerId(),\n    customerData: undefined,\n    \n    fetchCustomerData: (customerId: number) => {\n      localStorage.setItem(\"customerId\", customerId.toString());\n      set({ customerId });\n\n      if (customerId !== undefined) {\n        fetch(`${process.env.REACT_APP__API_URL}/customer/${customerId}`)\n          .then<CustomerData>(res => res.json())\n          .then((customerData) => {\n            set({\n              customerData\n            })\n          })\n      }\n    },    \n    clear: () => {\n      localStorage.removeItem(\"customerId\");\n      set({ \n        customerId: undefined,\n        customerData: undefined\n      })\n    }\n  })\n)","import React, { useEffect, useMemo } from 'react'\nimport { Line } from '@reactchartjs/react-chart.js'\nimport { useWaterStore } from 'store/water'\nimport { useCustomerStore } from 'store/customer'\nimport { Theme } from 'static/theme'\n\nconst options = {\n  scales: {\n    yAxes: [{\n      ticks: {\n        beginAtZero: true,\n      },\n    }],\n    xAxes: [{\n      ticks: {\n        callback: function(value:string , index: any, values: any) {\n          return new Date(value).toLocaleTimeString()\n        }\n      },\n    }]\n  },\n  tooltips: {\n    callbacks: {\n      title: (tooltip: any) => {\n        return new Date(tooltip[0].label).toLocaleString()\n      }\n    }\n  },\n  legend: {\n\n  }\n}\n\nconst WATER_FETCH_INTERVAL = 120000; // two minutes\n\nconst COLOR_OUTGOING_GROENDAKMONITOR = 'rgb(129, 173, 248)';\nconst COLOR_OUTGOING_ZINCO = '#87b539';\nconst COLOR_INCOMING_GROENDAKMONITOR = 'rgb(66, 133, 244)';\nconst COLOR_INCOMING_ZINCO = '#749a32';\n\nconst getColor = (inOrOut: 'outgoing' | 'incoming', theme: Theme) => {\n  switch (theme) {\n    case 'groendakmonitor':\n      return inOrOut === 'outgoing' ? COLOR_OUTGOING_GROENDAKMONITOR : COLOR_INCOMING_GROENDAKMONITOR;\n    case 'zinco':\n      return inOrOut === 'outgoing' ? COLOR_OUTGOING_ZINCO : COLOR_INCOMING_ZINCO;\n  }\n}\n\ninterface LineData {\n  labels: string[];\n  datasets: {\n    label: string,\n    data: number[];\n    fill: \"start\";\n    backgroundColor: string;\n  }[]\n}\n\nconst LineChart = () => {\n  // const [data, setData] = useState<LineData>()\n  const customerId = useCustomerStore((data) => data.customerId);\n  const theme = useCustomerStore((data) => data.customerData?.theme) ?? \"groendakmonitor\";\n  const waterData = useWaterStore((data) => data.waterData);\n  const fetchWaterData = useWaterStore((data) => data.fetchWaterData);\n\n  useEffect(() => {\n    if (!customerId) return\n    fetchWaterData(customerId)\n    const timeout = setInterval(() => {\n      fetchWaterData(customerId)\n    }, WATER_FETCH_INTERVAL)\n    return () => clearInterval(timeout)\n  }, [customerId, fetchWaterData])\n\n  const data = useMemo(() => {\n    const incomingData: number[] = [];\n    const outgoingData: number[] = [];\n    return waterData.reduce<LineData>((acc, value) => {\n      acc.labels.push(value.date);\n      incomingData.push(value.incoming);\n      outgoingData.push(value.outgoing);\n      return acc;\n    }, {\n      labels: [],\n      datasets: [{\n        label: 'Uitgaand water',\n        data: outgoingData,\n        backgroundColor: getColor('outgoing', theme),\n        fill: \"start\",\n      }, {\n        label: 'Inkomend water',\n        backgroundColor: getColor('incoming', theme),\n        data: incomingData,\n        fill: \"start\",\n      }]\n    });\n  }, [waterData]);\n\n  return (\n  <>\n    { data && <Line type=\"line\" data={data} options={options}  /> }\n  </>\n)}\n\nexport default LineChart\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"circle\", {\n  fill: \"none\",\n  strokeWidth: 4,\n  strokeLinecap: \"round\",\n  cx: 33,\n  cy: 33,\n  r: 30,\n  className: \"circle\"\n});\n\nfunction SvgLoading(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"40px\",\n    height: \"40px\",\n    viewBox: \"0 0 66 66\",\n    xmlnsname: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLoading);\nexport default __webpack_public_path__ + \"static/media/loading.d131c503.svg\";\nexport { ForwardRef as ReactComponent };","import { PropsWithChildren } from 'react'\nimport { ReactComponent as Spinner } from './styles/images/loading.svg';\nimport './styles/widget.scss'\n\ninterface Props {\n  loading?: boolean;\n  className?: string;\n}\n\nconst Widget = ({ children, loading, className }: PropsWithChildren<Props>) => {\n  return (\n    <div className={`widget ${className ?? ''}`}>\n      {children}\n      {loading && (\n        <div className=\"widget-loading\">\n          <Spinner className=\"spinner\"/>\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport default Widget\n","import { PropsWithChildren } from \"react\"\n\ninterface Props {\n  className?: string;\n}\n\nconst WidgetHeader = ({ children, className }: PropsWithChildren<Props>) => {\n  return (\n    <div className={`widget-header py-2 px-3 ${className ?? ''}`}>\n      {children}\n    </div>\n  )\n}\n\nexport default WidgetHeader\n","import { PropsWithChildren } from \"react\"\n\ninterface Props {\n  className?: string;\n}\n\nconst WidgetBody = ({ children, className }: PropsWithChildren<Props>) => {\n  return (\n    <div className={`widget-body p-3 ${className ?? ''}`}>\n      {children}\n    </div>\n  )\n}\n\nexport default WidgetBody\n","import React, { useEffect, useState } from \"react\";\nimport LineChart from \"./LineChart\";\nimport Widget, { WidgetBody, WidgetHeader } from \"../Widget\";\n\nconst WaterChart = () => {\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    const stopLoading = () => setLoading(false);\n    const timeout = setTimeout(stopLoading, 1000);\n    return () => clearTimeout(timeout);\n  }, []);\n\n  return (\n    <Widget loading={loading} className=\"d-flex flex-column\">\n      <WidgetHeader>\n        <span className=\"title\">Waterbalans</span>\n      </WidgetHeader>\n      <WidgetBody className=\"flex-1 mt-auto\">\n        <div id=\"main-chart\">\n          <LineChart />\n        </div>\n      </WidgetBody>\n    </Widget>\n  )\n}\n\nexport default WaterChart;","import { WeatherResponse } from \"models/weather\";\nimport create from \"zustand\";\n\ntype WeatherStore = {\n  weatherData?: WeatherResponse,\n  fetchWeatherData(lat: number, lon: number): void,\n}\n\nexport const useWeatherStore = create<WeatherStore>(\n  (set, get): WeatherStore => ({\n    weatherData: undefined,\n\n    fetchWeatherData(lat: number, lon: number): void {\n      fetch(`${process.env.REACT_APP__OPEN_WEATHER_MAP_URL}/forecast?lat=${lat}&lon=${lon}&lang=nl&units=metric&appid=${process.env.REACT_APP__OPEN_WEATHER_MAP_API}`)\n        .then<WeatherResponse>(res => res.json())\n        .then((data) => {\n          set({\n            weatherData: data\n          })\n        })\n    }\n  })\n)","import { UpdateData } from \"models/update\";\nimport { useEffect, useState } from \"react\";\nimport './styles/updates.scss';\nconst INTERVAL_TIME = 5000;\n\nconst Updates = () => {\n  const [data, setData] = useState<UpdateData[]>()\n  const [currentItem, setCurrentItem] = useState(0)\n\n  useEffect(() => {\n    fetch(`${process.env.REACT_APP__API_URL}/updates`, {\n      method: 'get',\n      headers: [['Content-Type', 'application/json']],\n    })\n    .then<UpdateData[]>((response) => response.json())\n    .then((response) => {\n      setData(response.filter(r => r.enabled));\n    });\n  }, [])\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setCurrentItem((currentItem + 1) % (data?.length ?? 0))\n    }, INTERVAL_TIME)\n    return () => clearInterval(interval)\n  }, [currentItem, data?.length])\n\n  return (\n    <ul className=\"updates pt-2 pr-2\">\n      {data?.map((update, index) => (\n        <li key={update.id} className=\"pl-3\" style={ index === 0 ? { marginTop: `-${ currentItem * 77}px`} : undefined }> \n          {update.text}\n        </li>\n      ))}\n    </ul>\n  )\n}\n\nexport default Updates","export const iconToClassName = (icon: string) => {\n  switch (icon) {\n    case \"01n\": \n    case \"01d\":\n      return \"weather_full_sun\";\n    case \"02n\": \n    case \"02d\":\n      return \"weather_few_clouds\" ;\n    case \"03n\": \n    case \"03d\":\n    case \"04n\": \n    case \"04d\":\n    case \"50n\": \n    case \"50d\":\n      return \"weather_full_clouds\" ;\n    case \"09n\": \n    case \"09d\":\n      return \"weather_rainy\" ;\n    case \"10n\": \n    case \"10d\":\n      return \"weather_sun_rain_clouds\" ;\n    case \"11n\": \n    case \"11d\":\n      return \"weather_thunder\" ;\n    case \"13n\": \n    case \"13d\":\n      return \"weather_snow\" ;\n  }\n}\n","import { Forecast } from \"models/weather\"\nimport { iconToClassName } from \"./utils\"\n\ninterface Props {\n  data: Forecast\n}\n\nconst Today = ( {data}: Props) => {\n\n  return (\n    <div className=\"box p-3\">\n      <div className=\"row\">\n        <div className=\"col-3 p-0\">\n          <div className={`weather_icon ${iconToClassName(data.weather?.[0].icon)}`}/>\n        </div>\n        <div className=\"col-3 d-flex align-items-center\">\n          <div className=\"temperature font-weight-bold\">\n            {data.main.temp.toFixed(1)}°\n          </div>\n        </div>\n        <div className=\"col-3 details\">\n          <div>Neers</div>\n          <div>Wind</div>\n          <div>Min/Max</div>\n        </div>\n        <div className=\"col-3 details text-right\">\n          <div>{data.pop}%</div>\n          <div>{data.wind.speed}</div>\n          <div>{data.main.temp_min.toFixed(1)}/{data.main.temp_max.toFixed(1)}</div>\n        </div>\n      </div>\n    </div>\n\n  )\n}\n\nexport default Today","import { Forecast } from \"models/weather\"\nimport { iconToClassName } from \"./utils\"\n\ninterface Props {\n  data: Forecast\n}\n\nconst DAY_NAMES = [\n  \"zo\",\n  \"ma\",\n  \"di\",\n  \"wo\",\n  \"do\",\n  \"vr\",\n  \"za\",\n]\n\nconst Day = ( {data}: Props) => {\n  const dayName = DAY_NAMES[new Date(data.dt * 1000).getDay()]\n  return (\n    <div className=\"col-4 text-center\">\n    <div className=\"box h-100 pb-2\">\n      <div className=\"pt-2\">{dayName}</div>\n      <div className={`weather_icon ${iconToClassName(data.weather[0]?.icon)}`}/>\n      { data.main.temp.toFixed(1)}°\n    </div>\n  </div>\n\n  )\n}\n\nexport default Day","import React, { useEffect, useMemo } from \"react\";\nimport { useCustomerStore } from \"store/customer\";\nimport { useWeatherStore } from \"store/weather\";\nimport Widget, { WidgetBody, WidgetHeader } from \"../Widget\";\nimport Updates from \"./Updates\";\nimport './styles/weather.scss';\nimport Today from \"./Today\";\nimport Day from \"./Day\";\nimport { Forecast } from \"models/weather\";\n\nconst ONE_HOUR = 3600000;\n\nconst Weather = () => {\n  const customerId = useCustomerStore((data) => data.customerId);\n  const customerData = useCustomerStore((data) => data.customerData);\n  const fetchCustomerData = useCustomerStore((data) => data.fetchCustomerData);\n\n  const data = useWeatherStore((data) => data.weatherData);\n  const fetchWeatherData = useWeatherStore((data) => data.fetchWeatherData);\n\n  useEffect(() => {\n    if (customerId && !customerData) {\n      fetchCustomerData(customerId)\n    }\n  }, [customerData, customerId, fetchCustomerData])\n\n  useEffect(() => {\n    if (!customerData) return;\n    const [lat, lon] = customerData.location.split(',')\n    const fetchWeather = () => {\n      fetchWeatherData(parseFloat(lat), parseFloat(lon))\n    }\n    fetchWeather();\n    setInterval(fetchWeather, ONE_HOUR)\n\n  }, [customerData, fetchWeatherData]);\n\n  // Find the forecast for noon of tomorrow and the day after that and the day after that\n  const days = useMemo(() => {\n    const result: Forecast[] = []\n    const today = new Date().toISOString().substring(0, 'XXXX-XX-XX'.length);\n    const NUM_DAYS = 3;\n\n    data?.list.every((forecast) => {\n      if (forecast.dt_txt.substring(0, 'XXXX-XX-XX'.length) === today) return true\n      if (forecast.dt_txt.endsWith(\"12:00:00\")) {\n        result.push(forecast)\n      }\n      return result.length < NUM_DAYS // keep searching until we found both\n    })\n\n    return result\n  }, [data?.list])\n\n  if (!data) return null;\n  \n  const formattedDate = new Date().toLocaleDateString();\n\n  // const tomorrowNoon = data.list.find(foreCast)\n  return (\n    <Widget className=\"weather\">\n      <WidgetHeader>\n        <div className=\"title\">\n          { data?.city.name } \n        </div>\n      </WidgetHeader>\n      <WidgetBody className=\"container\">\n        <Today data={data.list[0] }/>\n        <div className=\"three-days row mt-3 no-gutters\">\n          <Day data={days[0]} />\n          <Day data={days[1]} />\n          <Day data={days[2]} />\n        </div>\n        <div className=\"row mt-3 \">\n          <div className=\"news-title  d-flex justify-content-between w-100\">\n            <div className=\"py-2 px-3 font-weight-bold\">\n              Updates\n            </div>    \n            <div className=\"subtitle pt-2 pr-2 d-none d-sm-block d-md-none d-lg-block \">\n              {formattedDate}\n            </div>  \n          </div>\n          <Updates />\n        </div>\n      </WidgetBody>\n    </Widget>\n  )\n}\n\nexport default Weather;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M26,3v3c0,1.8-0.8,3.4-2,4.5v3c0,0.3-0.2,0.5-0.5,0.5h-1c-0.3,0-0.5-0.2-0.5-0.5v-1.8c-0.6,0.2-1.3,0.3-2,0.3H8 c-0.7,0-1.4-0.1-2-0.3v1.7C6,13.7,5.8,14,5.5,14h-1C4.2,14,4,13.7,4,13.4v-2.9C2.8,9.4,2,7.8,2,6V3H26z M4,1h23.5 C27.8,1,28,1.2,28,1.5v0v1C28,2.8,27.8,3,27.5,3h-27C0.2,3,0,2.8,0,2.5v-1C0,1.2,0.2,1,0.5,1H2\"\n});\n\nfunction SvgBath2(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    x: \"0px\",\n    y: \"0px\",\n    width: \"28px\",\n    height: \"15px\",\n    viewBox: \"0 0 28 15\",\n    style: {\n      enableBackground: \"new 0 0 28 15\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgBath2);\nexport default __webpack_public_path__ + \"static/media/bath2.1b048039.svg\";\nexport { ForwardRef as ReactComponent };","import { ReactComponent as BathSvg } from 'assets/images/bath2.svg';\nimport \"./bath.scss\"\n\ninterface Props {\n  fraction?: number;\n}\n\nconst Bath = ({ fraction = 1 }: Props) => (\n  <div className=\"bath\">\n    <BathSvg className=\"bath-back\" />\n    <BathSvg className=\"bath-front\" style={{ \n      // clip: `rect(${fraction * 100}%, 0, 0, 0)`\n      clipPath: `inset(${100 - fraction * 100}% 0px 0px 0px)`\n    }}/>\n  </div>\n)\n\nexport default Bath","import React, { useMemo } from 'react';\nimport Bath from './Bath';\n\nconst LITERS_IN_BATHTUB = 80;\nconst MAX_TUBS = 12;\n\ninterface Props {\n  diff: number;\n}\n\nconst BathMeter = ({ diff }: Props) => {\n  const bathtubs = useMemo(()  => {\n    return diff /  LITERS_IN_BATHTUB;\n  }, [diff]);\n\n  const fractionalBathtub = useMemo(() => {\n    return bathtubs - Math.floor(bathtubs)\n  }, [bathtubs])\n\n  return (\n    <>\n      <div className=\"text-nowrap font-smaller text-truncate mt-1\">{bathtubs.toFixed(1)}  badkuipen</div>\n      <div className=\"bath-meter\">\n        <Bath fraction={fractionalBathtub} />\n        {[...Array(Math.min(Math.floor(bathtubs), MAX_TUBS-1))].map((_, index: number) => (\n          <Bath key={index} />\n        ))}\n      </div>\n    </>\n  )\n}\n\nexport default BathMeter","import { CSSProperties } from \"react\"\n\ninterface Props {\n  digit: string,\n  speed?: number,\n  animate?: boolean,\n  fraction?: number,\n}\n\nconst Digit = ({ \n  digit, \n  animate, \n  speed = 0,\n  fraction = 0\n}: Props) => {\n\n  const style: CSSProperties = {\n    transform: `translateY(-${parseInt(digit, 10) + fraction}em)`\n  }\n  \n  if (animate) {\n    style.animationName = `slide${digit}`\n    style.animationTimingFunction = 'linear'\n    style.animationIterationCount = 1\n    style.animationDuration = `${speed}ms`\n  }\n  return (\n    <div className={'digit'} >\n      <div className=\"digit-inner\" style={style} >\n        <div>0</div>\n        <div>1</div>\n        <div>2</div>\n        <div>3</div>\n        <div>4</div>\n        <div>5</div>\n        <div>6</div>\n        <div>7</div>\n        <div>8</div>\n        <div>9</div>\n        <div>0</div>\n      </div>\n    </div>\n  )\n}\n\n// Digit.propTypes = {\n//   digit: React.PropTypes.string.isRequired,\n//   speed: React.PropTypes.number.isRequired,\n//   animate: React.PropTypes.bool,\n// }\n\nexport default Digit","import Digit from './Digit'\nimport \"./odometer.scss\"\n\ninterface Props {\n  number: number;\n  digitsBeforeDecimal?: number;\n  digitsAfterDecimal?: number;\n  speed?: number;\n  size?: number;\n  decimalChar?: string;\n  intermediateLastFractalDigit?: boolean\n  className?: string\n}\n\nconst Odometer = ({\n    number,\n    digitsBeforeDecimal = 4,\n    digitsAfterDecimal = 0,\n    speed = 100,\n    size = 72,\n    decimalChar = \".\",\n    intermediateLastFractalDigit = true,\n    className = \"\"\n  }: Props) => {\n  const integerPartNumber = Math.floor(number);\n  const fractionalPartNumber = number - integerPartNumber;\n\n  // Get array of strings for integer part and fractional part\n  const integerPartChars = calculateChars(integerPartNumber, digitsBeforeDecimal);\n  const fractionalPartChars = calculateChars(fractionalPartNumber, digitsAfterDecimal);\n\n  const odometerStyle = {\n    fontSize: `${size}px`, \n    lineHeight: `${size}px`\n  }\n\n  return (\n    <div className={`odometer ${className}`} style={odometerStyle}>\n      <div className=\"integer-part\">\n        { integerPartChars.map((digit, i) => {\n            const place = Math.pow(10, (digitsBeforeDecimal-i-1))\n            const animate = (number % place === 0) || place === 1\n            return (\n              <Digit key={i} digit={digit} animate={animate} speed={speed} />\n            )\n        })}\n      </div>\n      {digitsAfterDecimal > 0 && (\n        <>\n          <div className=\"decimal-seperator\">\n            {decimalChar}\n          </div>\n          <div className=\"fractional-part\">\n          { fractionalPartChars.map((digit, i) => {\n              const place = 1 / Math.pow(10, i)\n              const lastDigit = i === digitsAfterDecimal - 1;\n              const animate = (number % place === 0) || lastDigit\n              if (lastDigit && intermediateLastFractalDigit) {\n                /* Lets say we want to display the 123.4567 with 3 digits before decimal and 2 after decimal\n                if we round this down to 3 digits after decimal we get 123.457\n                this means the last digit (5) we want to show is 7/10 underway of becoming a 6\n                */\n              const fraction = parseInt(number.toFixed(digitsAfterDecimal + 1).slice(-1), 10) / 10\n\n              return <Digit key={i} digit={digit} animate={animate} speed={speed} fraction={fraction}/>;\n            }\n                \n            return <Digit key={i} digit={digit} animate={animate} speed={speed} />;\n          })}\n          </div>\n        </>\n      )}\n    </div>\n  )\n}\n\nexport default Odometer;\n\n/** Returns number as array of string characters */\nconst calculateChars = (number: number, digits: number) => {\n  let chars = number.toString().split('');\n  if (number >= 1) {\n    // integer part\n    if (chars.length > digits) chars = chars.slice(-digits);\n    while (chars.length < digits) chars.unshift('0');\n  } else {\n    // fractional part\n    chars = chars.slice(2) // cut off: \"0.\" from the number\n    if (chars.length > digits) chars = chars.slice(0, digits);\n    while (chars.length < digits) chars.push('0');\n\n  }\n  return chars;\n}","import React, { useEffect, useMemo, useState } from \"react\";\nimport { useWaterStore } from \"../../../store/water\";\nimport Widget, { WidgetBody, WidgetHeader } from \"../Widget\";\nimport BathMeter from \"./BathMeter\";\nimport Odometer from \"./Odometer/Odometer\";\nimport \"./water-saved.scss\"\n\n\nconst WaterSaved = () => {\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    const stopLoading = () => setLoading(false);\n    const timeout = setTimeout(stopLoading, 1000);\n\n    return () => clearTimeout(timeout);\n  }, []);\n\n\n  const totalIncoming = useWaterStore(store => store.getTotalIncoming());\n  const totalOutgoing = useWaterStore(store => store.getTotalOutgoing());\n\n  const diff = useMemo(() => {\n    return Math.max(totalIncoming - totalOutgoing, 0);\n  }, [totalIncoming, totalOutgoing])\n\n  return (\n    <Widget loading={loading} className=\"water-saved d-flex flex-column\">\n      <WidgetHeader>\n        <span className=\"title\">Water</span>\n        {/* <input type=\"number\" style={{ width: 130}} value={diff} onChange={e => setDiff(parseFloat(e.target.value))}></input> */}\n      </WidgetHeader>\n      <WidgetBody className=\"flex-grow-1\">\n        <div className=\"row no-gutters h-100\">\n          <div className=\"col-6 d-flex flex-column box\">\n            <div className=\"flex-fill p-2 text-truncate\">\n              opgevangen\n            </div>\n            <div className=\"d-flex justify-content-center pb-2\">\n              <Odometer\n                size={24}\n                number={diff}\n                speed={500}\n                digitsBeforeDecimal={Math.max(3, diff.toFixed().length)}\n                digitsAfterDecimal={1}\n                decimalChar=\",\"\n              />\n              <span className=\"pl-2\">L</span>\n            </div>\n          </div>\n          <div className=\"col-6 pl-2\">\n            <BathMeter diff={diff} />\n          </div>\n        </div>\n      </WidgetBody>\n    </Widget>\n  )\n}\n\nexport default WaterSaved;\n","import React, { useMemo } from \"react\";\nimport { useWaterStore } from \"../../../store/water\";\nimport Widget, { WidgetBody, WidgetHeader } from \"../Widget\";\nimport { CircularProgressbar } from 'react-circular-progressbar';\nimport 'react-circular-progressbar/dist/styles.css';\nimport './saturation.scss';\n\nconst Saturation = () => {\n\n  const totalIncoming = useWaterStore(store => store.getTotalIncoming());\n  const totalOutgoing = useWaterStore(store => store.getTotalOutgoing());\n\n  const saturation = useMemo(() => {\n    return totalIncoming / totalOutgoing * 100;\n  }, [totalIncoming, totalOutgoing])\n\n  return (\n    <Widget loading={isNaN(saturation)}>\n      <WidgetHeader>\n        <span className=\"title\">Verzadiging</span>\n      </WidgetHeader>\n      <WidgetBody>\n        {!isNaN(saturation) && (\n          <CircularProgressbar \n            className=\"saturation-chart\" \n            value={saturation} \n            text={`${saturation.toFixed(1)}%`} \n          />\n        )}\n      </WidgetBody>\n    </Widget>\n  )\n}\n\nexport default Saturation;","export const getAuthToken = () => {\n  return localStorage.getItem(\"token\");\n}\n\nexport const setAuthToken = (token: string) => {\n  localStorage.setItem(\"token\", token);\n}\n\nexport const clearAuthToken = () => {\n  localStorage.removeItem(\"token\");\n}\n\n// Convenience function, returns header to pass to `fetch` api\nexport const getAuthHeader = () => {\n  return ['x-auth-token', getAuthToken()!]\n}","import { CustomerData, CustomerListData } from \"models/customer\";\n\ninterface Props {\n  data: CustomerListData;\n  selected?: boolean;\n\n  onClick: (customer: CustomerData) => void\n}\n\nconst CustomerRow = (props: Props) => {\n  const { data, selected, onClick } = props;\n  const date = data.last_water ? new Date(data.last_water).toLocaleString() : \"-\";\n\n  return (\n    <tr onClick={() => onClick(data)} className={selected ? \"selected\" : \"\"}>\n      <td>\n        <span className=\"d-block badge badge-info\">ID: {data.id}</span>\n      </td>\n      <td>{data.name}</td>\n      <td>{date}</td>\n    </tr>\n  )\n}\nexport default CustomerRow;\n\n","import { CustomerListData } from \"models/customer\";\nimport React from \"react\";\nimport { useCustomerStore } from \"store/customer\";\nimport CustomerRow from \"./CustomerRow\";\nimport './styles/customerList.scss';\n\ninterface Props {\n  data: CustomerListData[];\n  onLogout: () => void;\n}\n\nconst CustomerList = (props: Props) => {\n  const { data, onLogout } = props;\n  const fetchCustomerData = useCustomerStore((data) => data.fetchCustomerData);\n  const customerId = useCustomerStore((data) => data.customerId);\n\n  return (\n    <>\n      <table className=\"table table-striped table-hover customer-list\">\n        <thead>\n          <tr>\n            <th scope=\"col\" style={{width: 32}}>#</th>\n            <th scope=\"col\">Name</th>\n            <th scope=\"col\">Last data</th>\n          </tr>\n        </thead>\n        <tbody>\n          {data.map((c) => \n            <CustomerRow key={c.id} data={c} onClick={() => fetchCustomerData(c.id)} selected={customerId === c.id}/>\n          )}\n        </tbody>  \n      </table>\n      <div className=\"form-group\">\n        <button className=\"w-100 btn btn-success\" onClick={onLogout} >\n          Logout\n        </button>\n      </div>\n    </>\n  )\n}\nexport default CustomerList;\n","export default __webpack_public_path__ + \"static/media/groendak.8ad2a181.jpg\";","// import { API_URL } from \"api\";\nimport { setAuthToken } from \"misc/authentication\";\nimport { useState } from \"react\";\nimport img from './styles/groendak.jpg';\n\ninterface Props {\n  onLogin: () => void;\n}\n\nconst Login = ({ onLogin }: Props) => {\n\n  const [password, setPassword] = useState<string>(\"safehouse ominous overdrive\")\n\n  const handleLogin = () => {\n    fetch(`${process.env.REACT_APP__API_URL}/login`, {\n      method: 'post',\n      headers: [['Content-Type', 'application/json']],\n      body: JSON.stringify({\n        password\n      })\n    }).then((response) => {\n      if(response.status === 401) {\n        console.warn(\"WRONG PW\")\n      } else {\n        response.text().then((response) => {\n          onLogin();\n          setAuthToken(response);\n        });\n      }\n    })\n  }\n\n  return (\n    <div>\n      <h3 className=\"text-center\">Log in to groendakmonitor</h3>\n      <form>\n        <div className=\"mt-5\">\n          <div className=\"form-group\">\n            <label className=\"form-label text-start w-100\">\n              Password\n              <input type=\"password\" className=\"form-control mt-2\" onChange={(e) => {setPassword(e.currentTarget.value)}} value={password} />              \n            </label>\n          </div>\n        </div>\n      </form>\n      <div className=\"form-group\">\n        <button className=\"w-100 btn btn-success\" onClick={handleLogin} >\n          Login\n        </button>\n      </div>\n      <img src={img} alt={\"dak\"} className=\"card-img-top\" />\n    </div>\n\n  )\n}\n\nexport default Login;","import { clearAuthToken, getAuthHeader, getAuthToken } from \"misc/authentication\";\nimport { CustomerListData } from \"models/customer\";\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport CustomerList from \"../CustomerList\";\nimport Login from \"../Login\";\n\ninterface Props {\n  onClose: () => void;\n}\n\nconst Admin = ({ onClose }: Props) => {\n  const [authenticated, setAuthenticated] = useState(!!getAuthToken());\n  const [data, setData] = useState<CustomerListData[]>();\n\n  const handleLogout = () => {\n    clearAuthToken();\n    setAuthenticated(false);\n    onClose();\n  };\n\n  useEffect(() => {\n    if (authenticated && getAuthToken()) {\n      fetch(`${process.env.REACT_APP__API_URL}/customers`, {\n        method: 'get',\n        headers: [['Content-Type', 'application/json'], getAuthHeader()],\n      })\n      .then<CustomerListData[]>((response) => {\n        if(response.status === 401) {\n          clearAuthToken();\n          setAuthenticated(false);\n        }\n        return response.json()\n      }).then((response) => {\n        setData(response);\n      })\n    }\n  }, [authenticated]);\n\n  return (\n    <div className=\"modal fade show d-block\" role=\"dialog\" aria-hidden=\"true\">\n      <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <h5 className=\"modal-title\" id=\"exampleModalLabel\">Admin</h5>\n            <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" onClick={onClose}>\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n          <div className=\"modal-body\">\n            { !authenticated && <Login onLogin={() => setAuthenticated(true)}/> }\n            { authenticated && !data && <>Loading..</>}\n            { authenticated && data && <CustomerList data={data} onLogout={handleLogout} /> }\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Admin;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"style\", {\n  type: \"text/css\"\n}, \"\\n\\t.roof {\\n\\t\\tfill:#FFFFFF;\\n\\t\\tstroke:#000000;\\n\\t\\tstroke-width:2;\\n\\t\\tstroke-linecap:round;\\n\\t\\tstroke-linejoin:round;\\n\\n\\t\\t-webkit-animation: pulse 8s ease-in-out infinite;\\n     -moz-animation: pulse 8s ease-in-out infinite;\\n      -ms-animation: pulse 8s ease-in-out infinite;\\n          animation: pulse 8s ease-in-out infinite;\\n\\t}\\n\\n@keyframes pulse {\\n  0% {\\n    stroke: #000000;\\n  }\\n\\n  100% {\\n    stroke: #7E0000;\\n  }\\n}\\n  \\n\\t.st1{fill:none;stroke:#000000;stroke-width:2;stroke-linecap:round;stroke-linejoin:round;}\\n\");\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Group_65\",\n  transform: \"translate(1.097 1.365)\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  id: \"roof\",\n  className: \"roof\",\n  d: \"M9.7,66.2L51,34.5l41.5,31.6c0,0,3.3,1,4.9-1.3S97,60,97,60l-10.1-7.4V29.2H70.8v11.1L51,25.4 L5.1,60.3c-0.9,1.3-0.9,3,0,4.3C6.6,67.1,9.7,66.2,9.7,66.2z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  id: \"Path_116\",\n  className: \"st1\",\n  d: \"M76,1.1c0,0,8.9,3.3,2.3,13.7S80,28.1,80,28.1\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  id: \"Path_119\",\n  className: \"st1\",\n  d: \"M84.5,0c0,0,9.5,5.5,0,15.8\"\n}));\n\nfunction SvgRoofNormal(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 100.2 68.8\",\n    style: {\n      enableBackground: \"new 0 0 100.2 68.8\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgRoofNormal);\nexport default __webpack_public_path__ + \"static/media/roof-normal.955a14ec.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgRoofGreen(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 100.2 68.8\",\n    style: {\n      enableBackground: \"new 0 0 100.2 68.8\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Group_65\",\n    transform: \"translate(1.097 1.365)\",\n    style: {\n      display: \"none\"\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    id: \"Path_115\",\n    style: {\n      display: \"inline\",\n      fill: \"#FFFFFF\",\n      stroke: \"#000000\",\n      strokeWidth: 2,\n      strokeLinecap: \"round\",\n      strokeLinejoin: \"round\"\n    },\n    d: \" M9.7,66.2L51,34.5l41.5,31.6c0,0,3.3,1,4.9-1.3s-0.4-4.8-0.4-4.8l-10.1-7.4V29.2H70.8v11.1L51,25.4L5.1,60.3c-0.9,1.3-0.9,3,0,4.3 C6.6,67.1,9.7,66.2,9.7,66.2z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"Path_116\",\n    style: {\n      display: \"inline\",\n      fill: \"none\",\n      stroke: \"#000000\",\n      strokeWidth: 2,\n      strokeLinecap: \"round\",\n      strokeLinejoin: \"round\"\n    },\n    d: \" M76,1.1c0,0,8.9,3.3,2.3,13.7S80,28.1,80,28.1\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"Path_119\",\n    style: {\n      display: \"inline\",\n      fill: \"none\",\n      stroke: \"#000000\",\n      strokeWidth: 2,\n      strokeLinecap: \"round\",\n      strokeLinejoin: \"round\"\n    },\n    d: \" M84.5,0c0,0,9.5,5.5,0,15.8\"\n  })), /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Group_67\",\n    transform: \"translate(3.011 -3.569)\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Group_64\",\n    transform: \"translate(3.836 0)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    id: \"Path_115_1_\",\n    style: {\n      fill: \"#FFFFFF\",\n      strokeWidth: 2,\n      strokeLinecap: \"round\",\n      strokeLinejoin: \"round\"\n    },\n    d: \" M4.2,71.1l41-31.5L86.4,71c0,0,3.3,1,4.9-1.3S90.9,65,90.9,65l-10-7.3V34.3h-16v11L45.2,30.5L-0.4,65.2c-0.9,1.3-0.9,3,0,4.3 C1,72,4.2,71.1,4.2,71.1z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"Path_116_1_\",\n    style: {\n      fill: \"none\",\n      strokeWidth: 2,\n      strokeLinecap: \"round\",\n      strokeLinejoin: \"round\"\n    },\n    d: \" M72.4,14.4v19.1L85,23.4\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"Path_117\",\n    style: {\n      strokeWidth: 2,\n      strokeLinecap: \"round\",\n      strokeLinejoin: \"round\"\n    },\n    d: \" M72.2,9.4c0,0-3.5,5.1-3.6,8.1s1.7,4.2,3.6,4.4c0.7,0,1.4-0.2,2.1-0.5c1.2-0.9,2-2.3,1.9-3.8C76.3,14.5,72.2,9.4,72.2,9.4z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"Path_118\",\n    style: {\n      strokeWidth: 2,\n      strokeLinecap: \"round\",\n      strokeLinejoin: \"round\"\n    },\n    d: \" M90.3,20.7c0,0-6.1-0.4-8.7,0.9s-2.8,3.5-1.9,5.3c0.3,0.6,0.8,1.2,1.5,1.5c1.4,0.6,3,0.6,4.2-0.2C87.9,26.8,90.3,20.7,90.3,20.7z\"\n  })), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"Path_125\",\n    style: {\n      strokeWidth: 2,\n      strokeLinecap: \"round\",\n      strokeLinejoin: \"round\"\n    },\n    d: \" M-1.9,58.5c0,0,2.3,3.6,4,4.3c1.3,0.6,2.8,0,3.4-1.3c0.1-0.1,0.1-0.3,0.1-0.4c0.2-0.5,0.3-1.1,0.2-1.6c-0.2-1-0.9-1.8-1.9-2.2 C2.3,56.6-1.9,58.5-1.9,58.5z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"Path_127\",\n    style: {\n      fill: \"none\",\n      strokeWidth: 2,\n      strokeLinecap: \"round\",\n      strokeLinejoin: \"round\",\n      strokeMiterlimit: 4\n    },\n    d: \" M-0.8,48.6l13,9.4l-2.7-11\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"Path_128\",\n    style: {\n      strokeWidth: 2,\n      strokeLinecap: \"round\",\n      strokeLinejoin: \"round\"\n    },\n    d: \" M16.2,44.9c0,0-2.6,3.3-2.7,5.3c-0.1,1.4,1,2.7,2.4,2.8c0.1,0,0.3,0,0.4,0c0.5,0,1.1-0.1,1.6-0.4c0.9-0.5,1.4-1.5,1.4-2.5 C19.4,48.1,16.2,44.9,16.2,44.9z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"Path_129\",\n    style: {\n      fill: \"none\",\n      strokeWidth: 2,\n      strokeLinecap: \"round\",\n      strokeLinejoin: \"round\"\n    },\n    d: \"M20.4,45.1 l5,2.5l-2-11.1\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"Path_131\",\n    style: {\n      strokeWidth: 2,\n      strokeLinecap: \"round\",\n      strokeLinejoin: \"round\"\n    },\n    d: \" M26.8,36.8c0,0,0.6,4.2,1.9,5.6c0.9,1.1,2.6,1.2,3.6,0.2c0.1-0.1,0.2-0.2,0.3-0.3c0.4-0.4,0.7-0.9,0.8-1.4c0.3-1-0.1-2-0.8-2.7 C31.3,36.8,26.8,36.8,26.8,36.8z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"Path_132\",\n    style: {\n      strokeWidth: 2,\n      strokeLinecap: \"round\",\n      strokeLinejoin: \"round\"\n    },\n    d: \" M33.1,31.6c0,0,2.3,3.6,4,4.3c1.3,0.6,2.8,0,3.4-1.3c0.1-0.1,0.1-0.3,0.1-0.4c0.2-0.5,0.3-1.1,0.2-1.6c-0.2-1-0.9-1.8-1.9-2.2 C37.2,29.8,33.1,31.6,33.1,31.6z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"Path_133\",\n    style: {\n      fill: \"none\",\n      strokeWidth: 2,\n      strokeLinecap: \"round\",\n      strokeLinejoin: \"round\",\n      strokeMiterlimit: 4\n    },\n    d: \" M33,22.3l13,9.4l-2.7-11\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"Path_136\",\n    style: {\n      fill: \"none\",\n      strokeWidth: 2,\n      strokeLinecap: \"round\",\n      strokeLinejoin: \"round\"\n    },\n    d: \"M56.1,28.5 L55.3,34l10-5.3\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"Path_137\",\n    style: {\n      strokeWidth: 2,\n      strokeLinecap: \"round\",\n      strokeLinejoin: \"round\"\n    },\n    d: \"M53,22.4 c0,0-3.8,1.9-4.7,3.6c-0.7,1.2-0.3,2.8,0.9,3.5c0.1,0.1,0.2,0.1,0.4,0.2c0.5,0.2,1,0.4,1.6,0.3c1-0.1,1.9-0.7,2.4-1.6 C54.5,26.7,53,22.4,53,22.4z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"Path_138\",\n    style: {\n      fill: \"none\",\n      strokeWidth: 2,\n      strokeLinecap: \"round\",\n      strokeLinejoin: \"round\"\n    },\n    d: \"M59.4,35.8 l3,0\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"Path_139\",\n    style: {\n      strokeWidth: 2,\n      strokeLinecap: \"round\",\n      strokeLinejoin: \"round\"\n    },\n    d: \" M92.6,50.9c0,0-3.8,1.9-4.7,3.6c-0.7,1.2-0.3,2.8,0.9,3.5c0.1,0.1,0.2,0.1,0.4,0.2c0.5,0.2,1,0.4,1.6,0.3c1-0.1,1.9-0.7,2.4-1.6 C94.1,55.2,92.6,50.9,92.6,50.9z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"Path_140\",\n    style: {\n      fill: \"none\",\n      strokeWidth: 2,\n      strokeLinecap: \"round\",\n      strokeLinejoin: \"round\"\n    },\n    d: \"M93.8,60.4 l3,0\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgRoofGreen);\nexport default __webpack_public_path__ + \"static/media/roof-green.7b908a6d.svg\";\nexport { ForwardRef as ReactComponent };","import Widget, { WidgetBody, WidgetHeader } from \"../Widget\";\nimport { ReactComponent as RoofNormal } from './styles/images/roof-normal.svg';\nimport { ReactComponent as RoofGreen } from './styles/images/roof-green.svg';\n\nimport './styles/roofTemperature.scss';\nimport { useWeatherStore } from \"store/weather\";\nimport { useMemo } from \"react\";\n\nconst RoofTemperature = () => {\n  const data = useWeatherStore((data) => data.weatherData);\n\n  const temps = useMemo(() => {\n    const normal = data?.list[0].main.temp ?? 0;\n    const green = normal * .8; // todo: comes from calculation on backend\n    return {\n      normal,\n      green\n    }\n  }, [data]);\n\n  return (\n    <Widget className=\"roof-temperature\">\n      <WidgetHeader>\n        <span className=\"title\">Temperatuur</span>\n      </WidgetHeader>\n      <WidgetBody className=\"container\">\n        <div className=\"row mt-4\">\n          <div className=\"col-6\">\n            <RoofNormal className=\"roof\"/>\n            <div className=\"text-center\">\n              {temps.normal.toFixed(2)}°\n            </div>\n          </div>\n          <div className=\"col-6\">\n            <RoofGreen className=\"roof green\" />\n            <div className=\"text-center\">\n              {temps.green.toFixed(2)}°\n            </div>\n          </div>\n        </div>\n      </WidgetBody>\n    </Widget>\n  )\n}\n\nexport default RoofTemperature;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12.6,2H31c6.9,0,12.6,5.6,12.6,12.6l0,0c0,6.9-5.6,12.6-12.6,12.6H12.6C5.6,27.1,0,21.5,0,14.6l0,0C0,7.6,5.6,2,12.6,2z\"\n});\n\nfunction SvgBee(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 140.8 116.1\",\n    style: {\n      enableBackground: \"new 0 0 140.8 116.1\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#FFEF1D\",\n      stroke: \"#000000\",\n      strokeWidth: 2,\n      strokeLinecap: \"round\",\n      strokeLinejoin: \"round\"\n    },\n    d: \"M69.3,114.8 c5.8-5.6,11.1-11.8,15.6-18.5H53.4C59.7,106,69.3,114.8,69.3,114.8z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#FFEF1D\",\n      stroke: \"#000000\",\n      strokeWidth: 2,\n      strokeLinecap: \"round\",\n      strokeLinejoin: \"round\"\n    },\n    d: \"M94.6,75.9 c0.4-10.1-8.1-20-8.1-20H51.7c0,0-8.1,9.9-7.7,19.9L94.6,75.9l-50.7-0.1v0.1\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#FFEF1D\",\n      stroke: \"#000000\",\n      strokeWidth: 2,\n      strokeLinecap: \"round\",\n      strokeLinejoin: \"round\"\n    },\n    d: \"M84.9,96.3\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#FFEF1D\",\n      stroke: \"#000000\",\n      strokeWidth: 2,\n      strokeLinecap: \"round\",\n      strokeLinejoin: \"round\"\n    },\n    d: \"M53.4,96.3\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#231F20\",\n      stroke: \"#000000\",\n      strokeWidth: 2,\n      strokeLinecap: \"round\",\n      strokeLinejoin: \"round\"\n    },\n    d: \"M44,75.9L94.7,76 L44,75.9L44,75.9c0.4,10.2,3,10.6,9.4,20.3c0,0.1,0.1,0.1,0.1,0.2H85c0-0.1,0.1-0.1,0.1-0.2c6.3-9.7,9.2-10.2,9.6-20.2\"\n  })), /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#FFEF1D\",\n      stroke: \"#000000\",\n      strokeWidth: 2,\n      strokeLinecap: \"round\",\n      strokeLinejoin: \"round\"\n    },\n    d: \" M57.3,33.1c0,0,1.1-13.5,11.7-13.5s11.9,13.5,11.9,13.5H57.3z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"Path_113\",\n    style: {\n      fill: \"none\",\n      stroke: \"#000000\",\n      strokeWidth: 2,\n      strokeLinecap: \"round\",\n      strokeLinejoin: \"round\"\n    },\n    d: \"M74.3,19.7 c0,0,0.6-6.4,4.6-10.8S90.3,2,90.3,2\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"Path_114\",\n    style: {\n      fill: \"none\",\n      stroke: \"#000000\",\n      strokeWidth: 2,\n      strokeLinecap: \"round\",\n      strokeLinejoin: \"round\"\n    },\n    d: \"M63.6,19.7 c0,0-0.6-6.4-4.6-10.8S47.6,2,47.6,2\"\n  }), /*#__PURE__*/React.createElement(\"g\", {\n    className: \"body\",\n    transform: \"translate(47.519 29.507)\"\n  }, _ref2, /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      stroke: \"#000000\",\n      strokeWidth: 2,\n      strokeLinecap: \"round\",\n      strokeLinejoin: \"round\"\n    },\n    d: \"M12.6,3H31 c6.4,0,11.6,5.2,11.6,11.6l0,0c0,6.4-5.2,11.6-11.6,11.6H12.6C6.2,26.1,1,20.9,1,14.6l0,0C1,8.2,6.2,3,12.6,3z\"\n  })), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"Path_108\",\n    style: {\n      fill: \"#FFFFFF99\",\n      stroke: \"#000000\",\n      strokeWidth: 2,\n      strokeLinecap: \"round\",\n      strokeLinejoin: \"round\"\n    },\n    d: \" M68.6,55.7c0,0-40,0.9-44.7-0.8S14.2,47.6,13.1,40c-0.6-3.8,1.6-10.7,7.2-14.6s12.6-3.8,17-0.6C41.3,27.8,68.6,55.7,68.6,55.7z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"Path_109\",\n    style: {\n      fill: \"#FFFFFF99\",\n      stroke: \"#000000\",\n      strokeWidth: 2,\n      strokeLinecap: \"round\",\n      strokeLinejoin: \"round\"\n    },\n    d: \" M72.4,55.6c0,0,39.9,0.9,44.5-0.8s9.7-7.3,10.8-14.8c0.6-3.8-1.6-10.6-7.2-14.5s-12.6-3.8-16.9-0.6C99.6,27.8,72.4,55.6,72.4,55.6z \"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"Path_110\",\n    style: {\n      fill: \"#FFFFFF99\",\n      stroke: \"#000000\",\n      strokeWidth: 2,\n      strokeLinecap: \"round\",\n      strokeLinejoin: \"round\"\n    },\n    d: \" M64.1,55.9c0,0-12.2,16.4-15.9,19.4s-7.8,4.7-12.1,2S30,70,30.7,64.5s7-8.7,7-8.7h26.4V55.9z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"Path_111\",\n    style: {\n      fill: \"#FFFFFF99\",\n      stroke: \"#000000\",\n      strokeWidth: 2,\n      strokeLinecap: \"round\",\n      strokeLinejoin: \"round\"\n    },\n    d: \" M76.4,55.9c0,0,12.2,16.4,15.9,19.4s7.8,4.7,12.1,2s6.1-7.3,5.4-12.8s-6.9-8.7-6.9-8.7H76.4V55.9z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgBee);\nexport default __webpack_public_path__ + \"static/media/bee.ca6500e5.svg\";\nexport { ForwardRef as ReactComponent };","import './progressBar.scss';\n \ninterface Props {\n  value: number;\n  className?: string\n}\n\nconst ProgressBar = (props: Props) => {\n  const {\n    value,\n    className = \"\"\n  } = props;\n  return (\n    <div className={`my-progress-bar align-items-center ${className}`}>\n      <div className=\"bar col p-0 \">\n        <div className=\"track h-100\" style={{ width: `${value}%`}}/>\n      </div>\n      <div className=\"label ml-2\">\n        {value.toFixed(1)}%\n      </div>\n    </div>\n  )\n}\n\nexport default ProgressBar","import './season.scss';\n \ninterface Props {\n  name: string;\n  className?: string\n}\n\nconst mapping = {\n  spring: \"Voorjaar\",\n  summer: \"Zomer\",\n  autumn: \"Najaar\",\n  winter: \"Winter\",\n}\n\nconst Season = (props: Props) => {\n  const {\n    name,\n    className = \"\"\n  } = props;\n  return (\n    <div className={`season ${className} d-flex p-0`}>\n      <div className={`icon mt-1 icon-${name}`}>\n      </div>\n      <div className=\"ml-1 label\">\n        {mapping[name as keyof typeof mapping]}\n      </div>\n    </div>\n  )\n}\n\nexport default Season","import Widget, { WidgetBody, WidgetHeader } from \"../Widget\";\nimport { ReactComponent as Bee } from 'assets/images/bee.svg';\nimport { useEffect, useMemo, useState } from \"react\";\nimport { getAuthHeader } from \"misc/authentication\";\nimport { BiodiversityData } from \"models/biodiversity\";\nimport ProgressBar from \"./ProgressBar\";\nimport './biodiversity.scss';\nimport Season from \"./Season\";\n\ntype DatePoint = BiodiversityData & { \n  date?: Date\n  distance?: number\n  before?: boolean\n}\nconst MS_IN_DAY = 86400000;\n\nconst Biodiversity = () => {\n  const [data, setData] = useState<BiodiversityData[]>()\n  const [today, setToday] = useState<Date>(new Date())\n\n  useEffect(() => {\n    fetch(`${process.env.REACT_APP__API_URL}/biodiversity`, {\n      method: 'get',\n      headers: [['Content-Type', 'application/json'], getAuthHeader()],\n    })\n    .then((response) => response.json())\n    .then((response: BiodiversityData[]) => {\n      if (response) {\n        setData(response.sort((a, b) => a.date_month - b.date_month));\n      }\n    })\n  }, []);\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setToday(new Date())\n    }, MS_IN_DAY)\n    return () => clearInterval(interval);\n  }, [today])\n\n  const biodiversityData = useMemo(() => {\n    if (!data) return null;\n    const datePointsRaw: DatePoint[] = [\n      { ...data[data.length -1], date: new Date(today.getFullYear() - 1, data[data.length -1].date_month, data[data.length -1].date_day)}, // wrap around\n      ...data,\n      { ...data[0], date: new Date(today.getFullYear() + 1, data[0].date_month, data[0].date_day) } // wrap arouund\n    ]\n    const datePoints = datePointsRaw.reduce<DatePoint[]>((acc, value) => {\n      if (!value.date) {\n        value.date = new Date(today.getFullYear(), value.date_month, value.date_day);\n      }\n      value.distance = today.getTime() - value.date.getTime(); // distance between this date point and today\n      acc.push(value)\n      return acc\n    }, []);\n    const sorted = datePoints.sort((a, b) => (a.distance ?? 0) - (b.distance ?? 0));\n    const last = sorted.find(dp => dp.distance !== undefined && dp.distance >= 0);\n    if (!last?.date) return null;\n    const next = sorted[sorted.indexOf(last) - 1];\n        if (!next.date) return;\n    const distanceBetweenLastAndNext = next.date.getTime() - last.date.getTime();\n    const distanceBetweenLastAndNow = today.getTime() - last.date.getTime();\n    const fraction =  distanceBetweenLastAndNow / distanceBetweenLastAndNext;\n    const biodiversity = lerp(last.biodiversity, next.biodiversity, fraction)\n    const season = datePoints.sort((a, b) => (Math.abs(a.distance ?? 0) - Math.abs(b.distance ?? 0)))[0];\n    return { season, biodiversity }\n  }, [data, today])\n\n  return (\n    <Widget className=\"biodiversity\">\n      <WidgetHeader>\n        <span className=\"title\">Biodiversiteit</span>\n      </WidgetHeader>\n      <WidgetBody>\n        <div className=\"row\">\n          <div className=\"col-6 d-flex flex-column justify-content-end\">\n            { biodiversityData && (\n              <Season name={biodiversityData.season.name} />\n            )}\n          </div>\n          <div className=\"col-6\">\n            <Bee className=\"bee\"/>\n          </div>\n        </div>\n        <div className=\"row\">\n          { biodiversityData && (\n            <ProgressBar value={biodiversityData.biodiversity} className=\"d-flex col mt-3\" />\n          )}\n        </div>\n      </WidgetBody>\n    </Widget>\n  )\n}\n\nexport default Biodiversity;\n\nconst lerp = (start:number, end: number, amt: number) => {\n  return (1-amt)*start+amt*end\n}","export default __webpack_public_path__ + \"static/media/groendak.8ad2a181.jpg\";","\nimport { setAuthToken } from \"misc/authentication\";\nimport { useState } from \"react\";\nimport { useCustomerStore } from \"store/customer\";\nimport img from './styles/groendak.jpg';\nimport './styles/login-modal.scss'\n\n\nconst Login = () => {\n\n  const [name, setName] = useState<string>(\"\")\n  const [password, setPassword] = useState<string>(\"\")\n  const [error, setError] = useState<string>()\n  const fetchCustomerData = useCustomerStore((data) => data.fetchCustomerData);\n\n  const handleLogin = () => {\n    setError(undefined);\n\n    fetch(`${process.env.REACT_APP__API_URL}/get-user-id`, {\n      method: 'post',\n      headers: [['Content-Type', 'application/json']],\n      body: JSON.stringify({\n        name,\n        password\n      })\n    }).then((response) => response.json())\n      .then((response) => {\n      if(response.success === false) {\n        setError(response.message)\n      } else {\n        fetchCustomerData(response.id)\n        setAuthToken(response.token);\n    }});\n  }\n\n  return (\n    <div className=\"modal fade show d-block login-modal\" role=\"dialog\" aria-hidden=\"true\">\n      <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <h5 className=\"modal-title\">Login</h5>\n          </div>\n          <div className=\"modal-body\">\n            <form>\n              <div className=\"mt-5\">\n                <div className=\"form-group\">\n                  <label className=\"form-label text-start w-100\">\n                    Name\n                    <input type=\"text\" className=\"form-control mt-2\" onChange={(e) => {setName(e.currentTarget.value)}} value={name} />              \n                  </label>\n                </div>\n                <div className=\"form-group\">\n                  <label className=\"form-label text-start w-100\">\n                    Password\n                    <input type=\"password\" className=\"form-control mt-2\" onChange={(e) => {setPassword(e.currentTarget.value)}} value={password} />              \n                  </label>\n                </div>\n              </div>\n            </form>\n            { error && (\n              <div className=\"form-group\">\n                <div className=\"alert alert-danger\">\n                  {error}\n                </div>\n              </div>\n\n            )}\n            <div className=\"form-group\">\n              <button className=\"w-100 btn btn-login\" onClick={handleLogin} >\n                Login\n              </button>\n            </div>\n            <img src={img} alt={\"dak\"} className=\"card-img-top\" />\n          </div>\n        </div>\n      </div>\n    </div>\n    \n  )\n}\n\nexport default Login;","import { useCustomerStore } from \"store/customer\";\nimport './styles/logout.scss'\n\nconst LogoutButton = () => {\n  const handleLogout = useCustomerStore((data) => data.clear);\n\n  return (\n    <button className=\"btn logout\" onClick={handleLogout}>×</button>\n  )\n}\n\nexport default LogoutButton","import React, { useState, useEffect } from 'react';\nimport WaterChart from '../dashboard/WaterChart';\nimport Weather from '../dashboard/Weather';\nimport WaterSaved from '../dashboard/WaterSaved';\nimport Saturation from '../dashboard/Saturation';\nimport Admin from 'components/admin/Admin';\nimport useKey from \"@rooks/use-key\";\nimport RoofTemperature from 'components/dashboard/RoofTemperature';\nimport Biodiversity from 'components/dashboard/Biodiversity';\nimport { useCustomerStore } from 'store/customer';\nimport Login, { LogoutButton } from 'components/login/Login';\nimport './styles/app.scss';\nimport { getAuthToken } from 'misc/authentication';\n\nconst App = () => {\n  const [admin, setAdmin] = useState(false)\n\n  useKey([\"~\"], (a) => {\n    setAdmin(a => !a)\n  })\n\n  const customerId = useCustomerStore((data) => data.customerId);\n  const theme = useCustomerStore((data) => data.customerData?.theme);\n\n  useEffect(() => {\n    document.body.setAttribute(\"theme\", theme ?? \"groendakmonitor\");\n  }, [theme])\n\n\n  if (customerId === undefined || getAuthToken() === null) {\n    return (\n      <div className=\"app d-flex pb-4 align-items-center position-relative\">\n        <Login />\n      </div>\n    )\n  }\n\n\n\n  return (\n    <div className=\"app d-flex pb-4 align-items-center position-relative\">\n      <div className=\"main-content container d-flex flex-column px-4\">\n        <div className=\"row\">\n          <div className=\"col-xs-12 col-md-6 col-lg-3 mb-4\">\n            <Saturation />\n          </div>\n          <div className=\"col-xs-12 col-md-6 col-lg-3 mb-4\">\n            <RoofTemperature />\n          </div>\n          <div className=\"col-xs-12 col-md-6 col-lg-3 mb-4\">\n            <Biodiversity />\n          </div>\n          <div className=\"col-xs-12 col-md-6 col-lg-3 mb-4\">\n            <WaterSaved />\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-md-8\">\n            <WaterChart />\n          </div>\n          <div className=\"col-md-4\">\n            <Weather />\n          </div>\n        </div>\n      </div>\n      { admin && <Admin onClose={() => setAdmin(false)} /> }\n      <div className=\"admin-trigger\" onClick={() => setAdmin(true)}></div>\n      <LogoutButton />\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from 'components/App';\nimport reportWebVitals from './reportWebVitals';\nimport 'scss/bootstrap.scss';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}